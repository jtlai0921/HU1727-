<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=big5">
        <link rel="stylesheet" type="text/css" href="../../resources/css/ext-all.css" />
        <script type="text/javascript" src="../../ext-all.js"></script>
        <script type="text/javascript" src="localXHR.js"></script>
        <title>09.menu</title>
        <script type="text/javascript">
Ext.onReady(function(){
    // 建立工具列
    var tb = new Ext.Toolbar();
    tb.render('toolbar');

    var menuHistory = new Ext.menu.Menu({
        id: 'menu1',
        allowOtherMenus: true,
        items: [
            {text: '今天'},
            {text: '昨天'},
            {text: '一周'},
            {text: '一月'},
            {text: '一年'}
        ]
    });

    var menuFile = new Ext.menu.Menu({
        id: 'menu2',
        allowOtherMenus: true,
        items: [
            {text: '新增'},
            {text: '開啟'},
            {text: '儲存'},
            {text: '另存...'},
            '-',
            {id: 'historyMenu', text: '歷史', menu: menuHistory},
            '-',
            {text: '關閉'}
        ]
    });

    var menuOperator = new Ext.menu.Menu({
        id: 'menu3',
        allowOtherMenus: true,
        items: [
            {text: '增加'},
            {text: '移除'},
            {text: '修改'}
        ]
    });

    // 為工具列加入2個按鈕
    tb.add({
		id: 'fileMenu',
        text: '檔案',
        menu: menuFile
    },{
		id: 'operatorMenu',
        text: '動作',
        menu: menuOperator
    });
    tb.doLayout();

    Ext.get("showButton").on("click", function() {
        var menu2 = Ext.menu.MenuMgr.get("menu2");
        menu2.showBy(Ext.getCmp('fileMenu'));
        var menu1 = Ext.menu.MenuMgr.get("menu1");
        menu1.showBy(Ext.getCmp('historyMenu'));
        var menu3 = Ext.menu.MenuMgr.get("menu3");
        menu3.showBy(Ext.getCmp('operatorMenu'));
        Ext.getDoc().removeAllListeners();
    });

    Ext.get('hideButton').on('click', function() {
        Ext.menu.MenuMgr.hideAll();
    });

});
        </script>
    </head>
    <body>
        <script type="text/javascript" src="../../examples/shared/examples.js"></script>
        <div id="toolbar"></div>
        <button id="showButton">show button</button>
        <button id="hideButton">hide button</button>
    </body>
</html>
